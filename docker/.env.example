# =============================================================================
# dns-sync Docker configuration
# =============================================================================
# Copy this file to .env and fill in the values.
# Lines starting with # are comments and are ignored.

# --- App ---

# Directory containing config.yaml, master.key, and secrets/ (inside container)
DNS_SYNC_CONFIG_DIR=/etc/dns-sync  # host: ./config

# Path for the SQLite sync history database (must be on a writable volume)
DNS_SYNC_DB_PATH=/var/lib/dns-sync/sync.db

# Secret key for signing session cookies.
# Generate: python3 -c "import secrets; print(secrets.token_hex(32))"
DNS_SYNC_SECRET_KEY=

# Bcrypt hash of the dashboard admin password.
# Generate (escapes $ automatically for Docker Compose):
#   python3 -c "import bcrypt; h=bcrypt.hashpw(b'yourpassword',bcrypt.gensalt()).decode(); print(h.replace('\$','\$\$'))"
DNS_SYNC_ADMIN_PASSWORD_HASH=


# --- Server credentials ---
#
# Format:  DNS_SYNC_{SERVER_NAME}_{FIELD}
#   SERVER_NAME : name from config.yaml, uppercased, spaces/hyphens → underscores
#   FIELD       : credential field name, uppercased
#
# These take precedence over any encrypted .enc files in ./config/secrets/.
# The server name must exactly match the "name" field in config.yaml.
#
# ── Pi-hole ────────────────────────────────────────────────────────────────
# Required fields: password
#
# DNS_SYNC_{NAME}_PASSWORD=
#
# Example (server named "pihole-hub" in config.yaml):
# DNS_SYNC_PIHOLE_HUB_PASSWORD=
#
# ── AdGuard Home ───────────────────────────────────────────────────────────
# Required fields: username, password
#
# DNS_SYNC_{NAME}_USERNAME=
# DNS_SYNC_{NAME}_PASSWORD=
#
# Example (server named "adguard-home"):
# DNS_SYNC_ADGUARD_HOME_USERNAME=
# DNS_SYNC_ADGUARD_HOME_PASSWORD=
#
# ── Cloudflare ─────────────────────────────────────────────────────────────
# Required fields: api_token, zone_id
#
# DNS_SYNC_{NAME}_API_TOKEN=
# DNS_SYNC_{NAME}_ZONE_ID=
#
# Example (server named "cloudflare"):
# DNS_SYNC_CLOUDFLARE_API_TOKEN=
# DNS_SYNC_CLOUDFLARE_ZONE_ID=
#
# ── OPNsense / pfSense ─────────────────────────────────────────────────────
# Required fields: api_key, api_secret
#
# DNS_SYNC_{NAME}_API_KEY=
# DNS_SYNC_{NAME}_API_SECRET=
#
# Example (server named "opnsense"):
# DNS_SYNC_OPNSENSE_API_KEY=
# DNS_SYNC_OPNSENSE_API_SECRET=
#
# ── Technitium DNS ─────────────────────────────────────────────────────────
# Required fields: api_token
# Generate a token in Technitium: Administration → API Tokens
#
# DNS_SYNC_{NAME}_API_TOKEN=
#
# Example (server named "technitium-home", default port 5380):
# DNS_SYNC_TECHNITIUM_HOME_API_TOKEN=
#
# config.yaml entry:
#   - name: technitium-home
#     type: technitium
#     url: http://192.168.1.10:5380
#     sync_mode: spoke   # or hub
#     auth:
#       api_token: encrypted:api_token
#
# ── Unbound ────────────────────────────────────────────────────────────────
# Optional fields: api_key
#
# DNS_SYNC_{NAME}_API_KEY=
#
# Example (server named "unbound"):
# DNS_SYNC_UNBOUND_API_KEY=
#
# ── Generic ────────────────────────────────────────────────────────────────
# Optional fields: username, password, api_token (use whichever apply)
#
# DNS_SYNC_{NAME}_USERNAME=
# DNS_SYNC_{NAME}_PASSWORD=
# DNS_SYNC_{NAME}_API_TOKEN=


# --- Notifications (leave blank to disable) ---

# Discord incoming webhook URL
DNS_SYNC_DISCORD_WEBHOOK_URL=

# SMTP email
DNS_SYNC_SMTP_HOST=
DNS_SYNC_SMTP_PORT=587
DNS_SYNC_SMTP_USER=
DNS_SYNC_SMTP_PASSWORD=
DNS_SYNC_SMTP_FROM=
DNS_SYNC_SMTP_TO=
